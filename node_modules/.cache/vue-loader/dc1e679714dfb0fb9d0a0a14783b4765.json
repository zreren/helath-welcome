{"remainingRequest":"/Users/lincheng/Documents/字节青训营项目数据可视化/wechart/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/lincheng/Documents/字节青训营项目数据可视化/wechart/src/components/Edit/DataEditALL/BarDataEdit.vue?vue&type=style&index=0&id=85a1cbe0&lang=less","dependencies":[{"path":"/Users/lincheng/Documents/字节青训营项目数据可视化/wechart/src/components/Edit/DataEditALL/BarDataEdit.vue","mtime":1633361879773},{"path":"/Users/lincheng/Documents/字节青训营项目数据可视化/wechart/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lincheng/Documents/字节青训营项目数据可视化/wechart/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1628298225000},{"path":"/Users/lincheng/Documents/字节青训营项目数据可视化/wechart/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lincheng/Documents/字节青训营项目数据可视化/wechart/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lincheng/Documents/字节青训营项目数据可视化/wechart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lincheng/Documents/字节青训营项目数据可视化/wechart/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgLmVkaXREYXRhIHsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHotaW5kZXg6IDEwOwogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAxMzBweDsKICAgIHRyYW5zZm9ybTogc2NhbGUoMik7CiAgICByaWdodDogMzBweDsKICAgIGNvbG9yOiAjNDA5ZWZmOwogIH0KICAudXBsb2FkIHsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIHotaW5kZXg6IDEwOwogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiA4MHB4OwogICAgdHJhbnNmb3JtOiBzY2FsZSgyKTsKICAgIHJpZ2h0OiAzMHB4OwogICAgY29sb3I6ICM0MDllZmY7CiAgfQogIC5hZGl0Q29sdW0gewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICB3aWR0aDogMyU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDA7CiAgICByaWdodDogMDsKICB9CiAgLmFudC1pbnB1dCB7CiAgICBib3JkZXI6IDA7CiAgICBiYWNrZ3JvdW5kOiAjZmFmYWZhOwogIH0KICAuZWRpdGFibGUtY2VsbCB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAuZWRpdGFibGUtY2VsbC1pbnB1dC13cmFwcGVyLAogICAgLmVkaXRhYmxlLWNlbGwtdGV4dC13cmFwcGVyIHsKICAgICAgcGFkZGluZy1yaWdodDogMjRweDsKICAgIH0KCiAgICAuZWRpdGFibGUtY2VsbC10ZXh0LXdyYXBwZXIgewogICAgICBwYWRkaW5nOiA1cHggMjRweCA1cHggNXB4OwogICAgfQoKICAgIC5lZGl0YWJsZS1jZWxsLWljb24sCiAgICAuZWRpdGFibGUtY2VsbC1pY29uLWNoZWNrIHsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICByaWdodDogMDsKICAgICAgd2lkdGg6IDIwcHg7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIH0KCiAgICAuZWRpdGFibGUtY2VsbC1pY29uIHsKICAgICAgbWFyZ2luLXRvcDogNHB4OwogICAgICBkaXNwbGF5OiBub25lOwogICAgfQoKICAgIC5lZGl0YWJsZS1jZWxsLWljb24tY2hlY2sgewogICAgICBsaW5lLWhlaWdodDogMjhweDsKICAgIH0KCiAgICAuZWRpdGFibGUtY2VsbC1pY29uOmhvdmVyLAogICAgLmVkaXRhYmxlLWNlbGwtaWNvbi1jaGVjazpob3ZlciB7CiAgICAgIGNvbG9yOiAjMTA4ZWU5OwogICAgfQoKICAgIC5lZGl0YWJsZS1hZGQtYnRuIHsKICAgICAgbWFyZ2luLWJvdHRvbTogOHB4OwogICAgfQogIH0KICAuZWRpdGFibGUtY2VsbDpob3ZlciAuZWRpdGFibGUtY2VsbC1pY29uIHsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICB9Cg=="},{"version":3,"sources":["/Users/lincheng/Documents/字节青训营项目数据可视化/wechart/src/components/Edit/DataEditALL/BarDataEdit.vue"],"names":[],"mappings":"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","file":"/Users/lincheng/Documents/字节青训营项目数据可视化/wechart/src/components/Edit/DataEditALL/BarDataEdit.vue","sourceRoot":"","sourcesContent":["<template>\n  <div v-if=\"!visible\">\n    <a-table style=\"width:97%\" bordered :data-source=\"dataSource\" :columns=\"columns\" :pagination=\"false\">\n      <template #customTite>\n          <!-- <div v-if=\"editableData[chartTitle]\" class=\"editable-cell-input-wrapper\">\n            <a-input v-model:value=\"editableData[chartTitle]\" @pressEnter=\"saveTitle\" />\n            <check-outlined class=\"editable-cell-icon-check\" @click=\"saveTitle\" />\n          </div>\n          <div v-else class=\"editable-cell-text-wrapper\">\n            {{ chartTitle || ' ' }}\n            <edit-outlined class=\"editable-cell-icon\" @click=\"editTitle\" />\n          </div> -->\n          <div style=\"cursor:pointer\"  @click=\"changeTitle\">\n            {{chartTitle}}\n          </div>\n      </template>\n      \n      <template #edit=\"{ text, record}\">\n        <div class=\"editable-cell\">\n          <div v-if=\"editableData[record.key]\" class=\"editable-cell-input-wrapper\">\n            <a-input v-model:value=\"editableData[record.key].name\" @pressEnter=\"save(record.key)\" />\n            <check-outlined class=\"editable-cell-icon-check\" @click=\"save(record.key)\" />\n          </div>\n          <div v-else class=\"editable-cell-text-wrapper\">\n            {{ text || ' ' }}\n            <edit-outlined class=\"editable-cell-icon\" @click=\"edit(record.key)\" />\n          </div>\n        </div>\n    </template>\n    </a-table>\n\n   \n    <a-popconfirm  v-if=\"dataSource.length > 1\" title=\"确定删除最后一行吗\" @confirm=\"onDelete\">\n      <a-button   style=\"width:48.5%;\" ><i class=\"el-icon-minus\"></i></a-button>\n    </a-popconfirm>\n    <a-button v-else class=\"editable-add-btn\" @click=\"handleAdd\" style=\"width: 100%;\"><i class=\"el-icon-plus\" style=\"\"></i></a-button>\n    <a-button v-if=\"dataSource.length > 1\" class=\"editable-add-btn\" @click=\"handleAdd\" style=\"width: 48.5%; margin-right:3%;\"><i class=\"el-icon-plus\" style=\"\"></i></a-button>\n    \n    <div class=\"aditColum\">\n      <a-popconfirm v-if=\"columns.length > 1\" title=\"确定删除最后一列吗\" @confirm=\"deleteColumn\">\n      <a-button  id=\"minus\" style=\"width:100%;height:50%;padding:0;\" ><i class=\"el-icon-minus\"></i></a-button>\n      </a-popconfirm>\n      <a-button  v-else @click=\"addColumn\" style=\"width:100%;height:100%; padding:0;\"><i class=\"el-icon-plus\" style=\"\"></i></a-button>\n      <a-button v-if=\"columns.length > 1\"  @click=\"addColumn\" style=\"width:100%;height:50%; padding:0;\"><i class=\"el-icon-plus\" style=\"\"></i></a-button>\n    </div>\n  </div>\n  <a-form v-if=\"visible\" style=\"margin-top:15px;\" :model=\"formState\" v-bind=\"formItemLayout\">\n    <div style=\"display:flex;\">\n    <a-form-item style=\"width:50%;\" label=\"X轴\" >\n      <a-input v-model:value=\"xData\" placeholder=\"input placeholder\" />\n    </a-form-item>\n    <a-form-item style=\"width:50%;\" label=\"Y轴\" >\n      <a-input v-model:value=\"yData\" placeholder=\"input placeholder\" />\n    </a-form-item>\n    </div>\n    <a-form-item v-for=\"(item,index) in formState\" :key=\"index\"  :label=\"item.name\" >\n      <a-input v-model:value=\"item.data\" placeholder=\"input placeholder\" />\n    </a-form-item>\n    <a-form-item v-bind=\"{wrapperCol: { span: 24 }}\">\n      <a-button type=\"primary\" @click=\"visible = false\" style=\"margin-right:20%\">取消操作</a-button>\n      <a-button type=\"primary\" @click=\"handleOk\">保存数据</a-button>\n    </a-form-item>\n  </a-form>\n   <i @click=\"editData\" class=\"el-icon-edit editData\"></i>\n   <i @click=\"$router.push('/edit/upload')\" index=\"1\" class=\"el-icon-upload upload\"></i><!-- <upload/> -->\n</template>\n<script>\nimport { computed, defineComponent, reactive, ref } from 'vue';\nimport { useStore } from 'vuex'\nimport { CheckOutlined, EditOutlined } from '@ant-design/icons-vue';\nimport { ElMessageBox } from 'element-plus';\nimport { ElMessage } from 'element-plus';\nimport { cahrtTemplate } from '@/common/chart/chart'\n\nexport default defineComponent({\n  components: {\n    CheckOutlined,\n    EditOutlined,\n  },\n  setup() {\n    const xData = ref('')\n    const yData = ref('件')\n    let columnNum = 6\n    const visible = ref(false)\n    const store = useStore()\n    const columns = ref([\n      {\n        dataIndex: 'name',\n        slots: {\n          title:'customTite',\n          customRender: 'edit',\n        },\n      },\n      {\n        title: '衬衫',\n        dataIndex: '0',\n      },\n      {\n        title: '羊毛衫',\n        dataIndex: '1',\n      },\n      {\n        title: '雪纺衫',\n        dataIndex: '2',\n      },\n      {\n        title: '裤子',\n        dataIndex: '3',\n      },\n      {\n        title: '高跟鞋',\n        dataIndex: '4',\n      },\n      {\n        title: '袜子',\n        dataIndex: '5',\n      }\n    ]);\n    const dataSource = ref([\n      {\n        key: '0',\n        name:\"销量\",\n        0: 18,\n        1: 20,\n        2: 36,\n        3: 15,\n        4: 10,\n        5: 20,\n      },\n      {\n        key: '1',\n        name:\"库存\",\n        0: 20,\n        1: 25,\n        2: 39,\n        3: 18,\n        4: 15,\n        5: 22,\n      },\n    ]);\n\n    \n    const count = computed(() => dataSource.value.length + 1);\n    const editableData = reactive({});\n    const edit = key => {\n      editableData[key] = dataSource.value.filter(item => key === item.key)[0];\n    };\n\n    const save = key => {\n      Object.assign(dataSource.value.filter(item => key === item.key)[0], editableData[key]);\n      cahrtTemplate[store.state.preChartType].series[key].name = editableData[key].name\n      delete editableData[key];\n      store.state.act = Math.random()\n    };\n\n    /**\n     * 修改行\n     */\n    const handleAdd = () => {\n      const newData = {\n        key: `${count.value-1}`,\n        name: `数据集${count.value}`,\n      };\n      const newChartData = {\n        name: `数据集${count.value}`,\n        data: [],\n        type: 'bar'\n      }\n      let index = 0\n      while(index < columnNum)\n      {\n        newData[index] = 0;\n        index++;\n        newChartData.data.push(0)\n      }\n      dataSource.value.push(newData);\n      cahrtTemplate[store.state.preChartType].series.push(newChartData)\n    };\n    function onDelete() {\n      dataSource.value.pop();\n      cahrtTemplate[store.state.preChartType].series.pop()\n    }\n\n\n    //不知道为什么不行\n    //function editTitle() {\n      //editableData['chartTitle'] = chartTitle.value\n    //}\n    /**\n     * 修改title\n     */\n    const chartTitle = ref('商场销量柱状图')\n    function changeTitle() {\n      ElMessageBox.prompt('改变图标Title', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n        })\n          .then(({ value }) => {\n            chartTitle.value = value\n            ElMessage({\n              type: 'success',\n              message: `已改变Title`,\n            });\n            cahrtTemplate[store.state.preChartType].title.text = value\n          })\n          .catch(() => {\n            ElMessage({\n              type: 'info',\n              message: '取消操作',\n            });\n          });\n    }\n\n    /**\n     * 修改列数\n     */\n    function addColumn() {   \n      ElMessageBox.prompt('输入需要增加的列名', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n        }).then(({ value }) => {\n            columns.value.push({\n               title: value,\n               dataIndex: columnNum,\n            })\n            cahrtTemplate[store.state.preChartType].xAxis.data.push(value)\n            for(let index = 0; index < count.value - 1; index++)\n            {\n              dataSource.value[index][columnNum] = 0\n              cahrtTemplate[store.state.preChartType].series[index].data[columnNum] = 0\n            }\n            columnNum++\n            ElMessage({\n              type: 'success',\n              message: `已增加`,\n            });\n          })\n          \n    }\n    function deleteColumn() {\n          columnNum--;\n          columns.value.pop()\n          for(let i = 0; i < count.value - 1; i++)\n          cahrtTemplate[store.state.preChartType].series[i].data.pop()\n          cahrtTemplate[store.state.preChartType].xAxis.data.pop()\n    }\n\n    /**\n     * 修改数据，表单样式\n     */\n    const formState = ref([]);\n    const formItemLayout =reactive({labelCol: {span: 6,},wrapperCol: {span: 14,},})\n    function editData() {\n      if(visible.value){\n        visible.value = false\n        return\n      }\n      formState.value = []\n      for(let i =0; i < count.value - 1; i++){\n        formState.value.push({name: dataSource.value[i].name})\n        formState.value[i].data = [];\n        for(let j = 0; j < columnNum; j++)\n        formState.value[i].data.push(dataSource.value[i][j])\n        formState.value[i].data = formState.value[i].data.toString()\n      }\n      visible.value = true\n    }\n    function handleOk() {\n      for(let i = 0; i < formState.value.length; i++)\n      formState.value[i].data = formState.value[i].data.split(',').map(item=>{return parseFloat(item) })\n      for(let i = 0; i < formState.value.length; i++){\n        for(let j = 0; j < columnNum; j++){\n          dataSource.value[i][j] = formState.value[i].data[j]\n        }\n      }\n      for(let i = 0; i < formState.value.length; i++){\n        cahrtTemplate[store.state.preChartType].series[i].data = formState.value[i].data\n      }\n      cahrtTemplate[store.state.preChartType].xAxis.name = xData.value\n      cahrtTemplate[store.state.preChartType].yAxis.name = yData.value\n      visible.value = false\n    }\n\n    return {\n      columns,\n      handleAdd,\n      dataSource,\n      editableData,\n      count,\n      edit,\n      save,\n      chartTitle,\n      changeTitle,\n      addColumn,\n      deleteColumn,\n      visible,\n      formState,\n      formItemLayout,\n      handleOk,\n      editData,\n      onDelete,\n      xData,\n      yData\n    };\n  },\n});\n</script>\n<style lang=\"less\">\n  .editData {\n    cursor: pointer;\n    z-index: 10;\n    position: fixed;\n    top: 130px;\n    transform: scale(2);\n    right: 30px;\n    color: #409eff;\n  }\n  .upload {\n    cursor: pointer;\n    z-index: 10;\n    position: fixed;\n    top: 80px;\n    transform: scale(2);\n    right: 30px;\n    color: #409eff;\n  }\n  .aditColum {\n    display: flex;\n    flex-direction: column;\n    width: 3%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    right: 0;\n  }\n  .ant-input {\n    border: 0;\n    background: #fafafa;\n  }\n  .editable-cell {\n    position: relative;\n    .editable-cell-input-wrapper,\n    .editable-cell-text-wrapper {\n      padding-right: 24px;\n    }\n\n    .editable-cell-text-wrapper {\n      padding: 5px 24px 5px 5px;\n    }\n\n    .editable-cell-icon,\n    .editable-cell-icon-check {\n      position: absolute;\n      right: 0;\n      width: 20px;\n      cursor: pointer;\n    }\n\n    .editable-cell-icon {\n      margin-top: 4px;\n      display: none;\n    }\n\n    .editable-cell-icon-check {\n      line-height: 28px;\n    }\n\n    .editable-cell-icon:hover,\n    .editable-cell-icon-check:hover {\n      color: #108ee9;\n    }\n\n    .editable-add-btn {\n      margin-bottom: 8px;\n    }\n  }\n  .editable-cell:hover .editable-cell-icon {\n    display: inline-block;\n  }\n</style>"]}]}